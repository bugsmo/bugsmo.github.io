---
order: 3
tag: 
  - mqtt
title: MQTT
categories: 
  - golang
  - Golang高级
columns: 
  - null
date: 2023-10-17 11:04:06
tags: 
  - 
---

# MQTT

## 介绍

- [MQTT](https://mqtt.org/) 是一个基于发布/订阅（publish/subscribe）模式的“轻量级”通讯协议，该协议构建于 TCP/IP 协议之上，由 IBM 在 1999 年发布，目前已经成为 ISO 的国际标准（ISO/IEC 20922） 。

## 特点

- 低带宽：MQTT 协议使用的数据包很小，通常只有 2~3KB，即使在非常差的网络环境下，也能保证消息能够快速传输。
- 低功耗：MQTT 协议交互的设备一般都是低功耗设备，如传感器，这些设备一般都是基于电池供电，所以协议的设计也要考虑到这一点，尽可能的减少设备的电量消耗。
- 连接简单：MQTT 协议的连接非常简单，一般只需要几个 TCP 连接即可完成客户端和服务端的连接。
- 易于实现：MQTT 协议的设计非常简单，所以客户端和服务端的实现都非常容易。
- 无状态：MQTT 协议是无状态的，这意味着服务器不需要保存客户端的连接状态，也不需要保存客户端的订阅信息，这样就大大减少了服务器的开销。
- 支持 QoS：MQTT 协议支持三种不同的服务质量，分别是 QoS0，QoS1 和 QoS2，这三种服务质量分别对应着不同的服务质量，QoS0 是最低的服务质量，QoS2 是最高的服务质量，QoS1 是介于两者之间的服务质量。
- 支持遗嘱：MQTT 协议支持遗嘱，即当客户端异常断开时，服务端可以将遗嘱消息发送给客户端的遗嘱主题。
- 支持主题过滤：MQTT 协议支持主题过滤，即客户端可以订阅某个主题的子集，而不是某个主题。
- 支持 LWT：MQTT 协议支持 Last Will and Testament，即遗嘱，当客户端异常断开时，服务端可以将遗嘱消息发送给客户端的遗嘱主题。
- 支持 TLS/SSL：MQTT 协议支持 TLS/SSL，即传输层安全协议，可以对 MQTT 的通信进行加密，保证消息的安全性。
- 支持多种编程语言：MQTT 协议支持多种编程语言，如 C，C++，Java，Python，PHP，C#，Go 等。
- 支持多种操作系统：MQTT 协议支持多种操作系统，如 Linux，Windows，MacOS，Android，iOS 等。
- 支持多种硬件平台：MQTT 协议支持多种硬件平台，如 PC，单片机，路由器，手机，平板电脑，智能电视，智能家居等。
- 支持多种网络协议：MQTT 协议支持多种网络协议，如 TCP，UDP，WebSocket，CoAP 等。
- 支持多种传输协议：MQTT 协议支持多种传输协议，如 MQTT，MQTT-SN，MQTT-S，MQTT-WS 等。
- 支持多种应用场景：MQTT 协议支持多种应用场景，如物联网，智能家居，智能电视，智能手机，智能平板电脑，智能路由器，智能电视，智能家居等。

## go-mqtt

go-mqtt 是一个基于 MQTT 协议的消息中间件，它是一个开源的、跨平台的、高性能的、轻量级的、易于使用的消息中间件，它支持多种编程语言，如 C，C++，Java，Python，PHP，C#，Go 等，支持多种操作系统，如 Linux，Windows，MacOS，Android，iOS 等，支持多种硬件平台，如 PC，单片机，路由器，手机，平板电脑，智能电视，智能家居等，支持多种网络协议，如 TCP，UDP，WebSocket，CoAP 等，支持多种传输协议，如 MQTT，MQTT-SN，MQTT-S，MQTT-WS 等，支持多种应用场景，如物联网，智能家居，智能电视，智能手机，智能平板电脑，智能路由器，智能电视，智能家居等。
