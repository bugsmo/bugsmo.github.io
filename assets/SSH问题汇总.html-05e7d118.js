import{_ as e,o as a,c as s,a as n}from"./app-8ca7f52c.js";const r={},d=n(`<h1 id="ssh-问题汇总" tabindex="-1"><a class="header-anchor" href="#ssh-问题汇总" aria-hidden="true">#</a> SSH 问题汇总</h1><h2 id="_1-authentication-refused-bad-ownership-or-modes-for-dircetory-root" tabindex="-1"><a class="header-anchor" href="#_1-authentication-refused-bad-ownership-or-modes-for-dircetory-root" aria-hidden="true">#</a> 1. Authentication refused:bad ownership or modes for dircetory /root</h2><h3 id="背景" tabindex="-1"><a class="header-anchor" href="#背景" aria-hidden="true">#</a> 背景</h3><p>服务器配置了免密，但是 ssh 过去时报错，错误如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Connect asset xxx error: Authentication failed
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="排查原因" tabindex="-1"><a class="header-anchor" href="#排查原因" aria-hidden="true">#</a> 排查原因</h3><p>通过命令 <code>tail -100f /var/log/secure</code> 查看日志，发现错误信息</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Authentication refused: bad ownership or modes <span class="token keyword">for</span> directory /root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>检查 root 目录的权限</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ls</span> <span class="token parameter variable">-ld</span> /root/

dr-xrwx---+ <span class="token number">7</span> root root <span class="token number">4096</span> <span class="token number">10</span>月 <span class="token number">24</span> <span class="token number">10</span>:01 /root/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修复" tabindex="-1"><a class="header-anchor" href="#修复" aria-hidden="true">#</a> 修复</h3><p>将 root 目录权限修改为 750</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">chmod</span> <span class="token number">750</span> /root/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>检查</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ls</span> <span class="token parameter variable">-ld</span> /root/
drwxr-x---+ <span class="token number">7</span> root root <span class="token number">4096</span> <span class="token number">10</span>月 <span class="token number">24</span> <span class="token number">10</span>:03 /root/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>再次免密尝试登录，恢复正常。</p>`,16),o=[d];function i(t,c){return a(),s("div",null,o)}const h=e(r,[["render",i],["__file","SSH问题汇总.html.vue"]]);export{h as default};
