import{_ as l,r,o,c,b as a,d as e,e as s,a as t}from"./app-8ca7f52c.js";const p={},i=t('<h1 id="遥测" tabindex="-1"><a class="header-anchor" href="#遥测" aria-hidden="true">#</a> 遥测</h1><p>遥测功能使 Operator 能够收集基本的匿名数据并将其发送到 Percona，这有助于我们确定开发的重点以及每个 Operator 版本的采用情况。</p><p>收集以下信息：</p><ul><li>自定义资源（ metadata.uid 字段）的 ID</li><li>Kubernetes 版本</li><li>平台（是 Kubernetes 还是 Openshift）</li><li>PMM 版本</li><li>Operator 版本</li><li>Percona XtraDB Cluster 版本</li><li>HAProxy 版本</li><li>ProxySQL 版本</li><li>Percona XtraBackup 版本</li><li>Operator 是否以集群范围模式部署</li></ul><p>我们不会收集任何标识系统的内容，但应提及以下事项：自定义资源 ID 是 Kubernetes 为每个自定义资源生成的唯一 ID。</p>',5),d={href:"https://docs.percona.com/percona-operator-for-mysql/pxc/update.html#automatic-upgrade",target:"_blank",rel:"noopener noreferrer"},u={href:"https://check.percona.com/?_gl=1*wytl0l*_gcl_au*OTg5NTM4MTc5LjE2OTMyMDY2NDQ.",target:"_blank",rel:"noopener noreferrer"},m=t(`<p>安装 Operator 时，可以使用特殊选项禁用遥测：</p><ul><li>如果使用 helm 安装 Operator，请使用以下安装命令：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>helm <span class="token function">install</span> my-db percona/pxc-db <span class="token parameter variable">--version</span> <span class="token number">1.13</span>.0 <span class="token parameter variable">--namespace</span> my-namespace <span class="token parameter variable">--set</span> <span class="token assign-left variable">disable_telemetry</span><span class="token operator">=</span><span class="token string">&quot;true&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果不使用 Helm 进行安装，则必须先编辑 <code>operator.yaml</code> 然后再使用 <code>kubectl apply -f deploy/operator.yaml</code> 命令应用它。使用文本编辑器打开 <code>operator.yaml</code> 文件，找到 <code>DISABLE_TELEMETRY</code> 环境变量的值并将其设置为 true ：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">env</span><span class="token punctuation">:</span>
  <span class="token punctuation">...</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> DISABLE_TELEMETRY
    <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token string">&quot;true&quot;</span>
  <span class="token punctuation">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5);function _(k,v){const n=r("ExternalLinkIcon");return o(),c("div",null,[i,a("p",null,[e("默认情况下，遥测处于启用状态，当 Operator 在计划的时间连接到"),a("a",d,[e("版本服务服务器"),s(n)]),e("以获取有关升级所需的版本号和有效映像路径的新信息时，该服务器将发送遥测信息到该服务器。")]),a("p",null,[e("此服务的登录页面 "),a("a",u,[e("check.percona.com"),s(n)]),e(" 解释了此服务是什么。")]),m])}const h=l(p,[["render",_],["__file","遥测.html.vue"]]);export{h as default};
